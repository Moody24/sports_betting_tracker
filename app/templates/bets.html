{% extends "base.html" %}

{% block title %}My Bets{% endblock %}

{% block content %}
<h1 class="mb-4">My Bets</h1>

<form method="POST" class="mb-4">
    {{ form.hidden_tag() }}
    <div class="mb-3">
        {{ form.match_id.label(class="form-label") }}
        {{ form.match_id(class="form-control") }}
    </div>
    <div class="mb-3">
        {{ form.bet_amount.label(class="form-label") }}
        {{ form.bet_amount(class="form-control") }}
    </div>
    <div class="mb-3">
        {{ form.outcome.label(class="form-label") }}
        {{ form.outcome(class="form-select") }}
    </div>
    <button type="submit" class="btn btn-primary">Place Bet</button>
</form>

<h2>Your Bets</h2>
<ul class="list-group">
    {% for bet in bets %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                Match ID: {{ bet.match_id }} <br>
                Bet Amount: ${{ bet.bet_amount }} <br>
                Outcome: {{ bet.outcome or "Pending" }}
            </div>
            <div>
                <a href="{{ url_for('main.edit_bet', bet_id=bet.id) }}" class="btn btn-sm btn-warning">Edit</a>
                <form method="POST" action="{{ url_for('main.delete_bet', bet_id=bet.id) }}" style="display: inline;">
                    {{ form.hidden_tag() }}
                    <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                </form>
            </div>
        </li>
    {% endfor %}
</ul>
{% endblock %}
